cmake_minimum_required(VERSION 3.12)

project(App)

# Find includes in corresponding build directories
set(CMAKE_INCLUDE_CURRENT_DIR ON)
# Instruct CMake to run moc automatically when needed
set(CMAKE_AUTOMOC ON)

find_package(OpenCV 4.0.1 REQUIRED)

find_package(Qt5 COMPONENTS Widgets REQUIRED)

set(INCLUDE_FILES
	include/MainWindow.h
	include/Utils.h
	)

set(SOURCE_FILES
	src/main.cpp
	src/MainWindow.cpp
	src/Utils.cpp
	)

set(PCH
	src/pch.h
	src/pch.cpp
	)

add_executable(${PROJECT_NAME}
	WIN32
	${PCH}
	${INCLUDE_FILES}
	${SOURCE_FILES}
	)

qt5_use_modules(${PROJECT_NAME}
	Core
	Gui
	Widgets
	)

target_include_directories(${PROJECT_NAME}
	PRIVATE
        ${CMAKE_CURRENT_SOURCE_DIR}/include
		${CMAKE_CURRENT_SOURCE_DIR}/src
		${CMAKE_CURRENT_BINARY_DIR}
		${OpenCV_INCLUDE_DIRS}
	)

target_link_libraries(${PROJECT_NAME}
	${OpenCV_LIBS}
	RecognitionLib
	)
